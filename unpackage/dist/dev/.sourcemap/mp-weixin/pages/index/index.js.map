{"version":3,"sources":["webpack:///C:/Users/admin/Desktop/项目/约工宝/main.js","webpack:///C:/Users/admin/Desktop/项目/约工宝/pages/index/index.vue?566c","webpack:///C:/Users/admin/Desktop/项目/约工宝/pages/index/index.vue?6c55","webpack:///C:/Users/admin/Desktop/项目/约工宝/pages/index/index.vue?a85b","webpack:///C:/Users/admin/Desktop/项目/约工宝/pages/index/index.vue?c1bf","webpack:///C:/Users/admin/Desktop/项目/约工宝/pages/index/index.vue","webpack:///C:/Users/admin/Desktop/项目/约工宝/pages/index/index.vue?1937","webpack:///C:/Users/admin/Desktop/项目/约工宝/pages/index/index.vue?3492"],"names":["createPage","Page","app","getApp","name","data","array","index","cityIdArr","title","isGo","money","order","nickName","isNewUser","avatarUrl","order_num","isShow","isLogin","MerchantList","service_name","workersNumber","WorkingPhoneNumber","isCoupons","onLoad","login","city","getMerchants","WorkingPhone","uni","$on","orderNumber","globalData","openid","onShow","hideLoading","onShareAppMessage","res","from","share","path","imageUrl","methods","success","code","getUserInfo","nick","userInfo","avaurl","MyAxios","axios","result","user_id","is_first","showModal","content","showCancel","confirmText","fail","getuserinfo","e","detail","rawData","share_user_id","phone","order_count","is_go_on","mobile","map","item","push","Id","c_name","call","phoneNumber","makePhoneCall","go","url","openSetting","showLoading","navigateTo","JSON","stringify","xuanze","hidden","windowNone","id","icon","cityId","bindPickerChange","target","value"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=f4360c80&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"admin/Desktop/项目/约工宝/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=f4360c80&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.call(_vm.workersNumber), _vm.hidden()\n    }\n\n    _vm.e1 = function($event) {\n      _vm.isCoupons = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport MyAxios from \"../../myAxios.js\" // 引入axios\r\nvar app=getApp();     // 取得全局App\r\n\r\nexport default {\r\n\tname: \"index\",\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tarray: [], \t\t\t    //picker组件定义\r\n\t\t\tindex: 0, \t\t\t    //picker组件定义\r\n\t\t\tcityIdArr:[], \t\t    //picker组件定义\r\n\t\t    title: 'picker', \t\t//picker组件定义\r\n\t\t\tisGo: 0,   \t\t\t    //用户是否有进行中的订单\r\n\t\t\tmoney:0,                //优惠券金额\r\n\t\t    order: 0,   \t\t\t//用户的订单数\r\n\t\t\tnickName:\"\",  \t\t    //用户名称\r\n\t\t\tisNewUser:0,            //是否是新用户 是的话显示优惠券弹窗\r\n\t\t\tavatarUrl:\"\",  \t\t    //用户头像\r\n\t\t\torder_num:\"\",           //订单号\r\n\t\t\tisShow:false,  \t\t    //底部呼叫弹窗\r\n\t\t\tisLogin:false,          //是否授权了获取用户信息权限\r\n\t\t\tMerchantList:[], \t\t//商家列表\r\n\t\t    service_name:\"\",        //订单名称\r\n\t\t    workersNumber: 0,   \t//工人号码\r\n\t\t    WorkingPhoneNumber:\"\",  //首页合作电话的号码\r\n\t\t\tisCoupons:true,         //分享优惠券\r\n\t\t}\r\n\t},\r\n\tonLoad:function(){\r\n\t\tthis.login()   \t\t//登录获取头像 名称\r\n\t\tthis.city()        \t//获取城市列表\r\n\t\tthis.getMerchants() //获取城市下的商户列表\r\n\t\tthis.WorkingPhone() //获取合作电话号码\r\n\t\t//监听orderDetails页面 和 dingdan页面 触发的函数\r\n\t\tuni.$on('orderNumber',()=>{\r\n\t\t\tthis.orderNumber(app.globalData.openid)\r\n\t\t})\r\n\t},\r\n\tonShow:function(){\r\n\t\tuni.hideLoading()   //隐藏加载框\r\n\t},\r\n\t//点击分享\r\n\tonShareAppMessage:function(res){\r\n\t\tif(res.from === 'button'){\r\n\t\t\tthis.share()\r\n\t\t}\r\n\t\treturn {\r\n\t\t\ttitle: '约工宝专业约工---快速上门，全城服务',\r\n\t\t\tpath: '/pages/index/index',\r\n\t\t\timageUrl:\"../../static/home/logo.png\",\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\t//登录\r\n\t\tlogin:function(){\r\n\t\t\tuni.login({\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tlet code = res.code\r\n\t\t\t\t\tuni.getUserInfo({   //获取用户头像和名字\r\n\t\t\t\t\t\tsuccess:async (res)=>{\r\n\t\t\t\t\t\t\tlet nick = res.userInfo.nickName\r\n\t\t\t\t\t\t\tlet avaurl = res.userInfo.avatarUrl\r\n\t\t\t\t\t\t\tthis.avatarUrl = avaurl\t\t\r\n\t\t\t\t\t\t\tthis.nickName = nick\t\t\r\n\t\t\t\t\t\t\tapp.globalData.avatarUrl = avaurl\t//改变全局的头像\r\n\t\t\t\t\t\t\tapp.globalData.nickName = nick  \t//改变全局的用户名\r\n\t\t\t\t\t\t\tlet result = await MyAxios.axios(\"https://ygbao.magicxhx.com/admin/Wchat/getOpenid.html\",{code,nick,avaurl})\r\n\t\t\t\t\t\t\t//获取openid成功\r\n\t\t\t\t\t\t\tif(result[1].data.code != 0){\r\n\t\t\t\t\t\t\t\tconst {openid,user_id,is_first,money} = result[1].data\r\n\t\t\t\t\t\t\t\tthis.isNewUser = is_first\r\n\t\t\t\t\t\t\t\tthis.money = money\r\n\t\t\t\t\t\t\t\tapp.globalData.openid = openid  \t//改变全局的openid\r\n\t\t\t\t\t\t\t\tapp.globalData.user_id = user_id  \t//改变全局的user_id\r\n\t\t\t\t\t\t\t\tthis.orderNumber(openid)  //获取用户订单数 之所以放在这里获取  因为在外面获取 第一次获取不到openid\t\t\t\t\t\r\n\t\t\t\t\t\t\t//获取openid失败\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tcontent:\"获取授权失败\",\r\n\t\t\t\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\t\t\tconfirmText:\"重新获取\",\r\n\t\t\t\t\t\t\t\t\tsuccess:()=> {\r\n\t\t\t\t\t\t\t\t\t\tthis.login()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t//如果用户没有授权  就显示点击登录\r\n\t\t\t\t\t\t\tthis.isLogin = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//获取头像的回调\r\n\t\tgetuserinfo:function(e){\r\n\t\t\tif(!e.detail.rawData)return\r\n\t\t\tthis.isLogin = false\r\n\t\t\tthis.login()\r\n\t\t},\r\n\t\t//分享得优惠券\r\n\t\tshare:async function(){\r\n\t\t\tconst user_id = app.globalData.user_id\r\n\t\t\tlet result = await MyAxios.axios(\"https://ygbao.magicxhx.com/api/index/share_get_coupon\",\r\n\t\t\t{share_user_id:user_id})\r\n\t\t},\r\n\t\t//获取合作电话号码\r\n\t\tWorkingPhone:async function(){\r\n\t\t\tlet result = await MyAxios.axios(\"https://ygbao.magicxhx.com/api/index/business_phone\")\r\n\t\t\t//转字符串  因为打电话的api必须要天字符串 数字不行\r\n\t\t\tthis.WorkingPhoneNumber = result[1].data.phone.phone + \"\" \r\n\t\t},\r\n\t\t//获取用户订单数\r\n\t\torderNumber:async function(openid){\r\n\t\t\t//请求进行中的订单\r\n\t\t\tlet result = await MyAxios.axios(\"https://ygbao.magicxhx.com/api/index/index_order\",{openid},\"post\")\r\n\t\t\tthis.order = result[1].data.order_count\r\n\t\t\t//result[1].data.is_go_on 等于1的话  说明有进行中的订单\r\n\t\t\tthis.isGo = result[1].data.is_go_on\r\n\t\t\t//转字符串  因为打电话的api必须要天字符串 数字不行\r\n\t\t\tthis.workersNumber = result[1].data.mobile + \"\"\r\n\t\t\tthis.service_name = result[1].data.service_name\r\n\t\t\tthis.order_num = result[1].data.order_num\r\n\t\t},\r\n\t\t//获取城市列表\r\n\t\tcity:async function(){\r\n\t\t\tlet result = await MyAxios.axios(\"https://ygbao.magicxhx.com/api/index/city.html\")\r\n\t\t\tresult[1].data.map(item=>{     //把id和城市名分开保存  因为picker组件不支持数组对象渲染 会被渲染成 [object object]\r\n\t\t\t\tthis.cityIdArr.push(item.Id)    //储存城市id的列表\r\n\t\t\t\tthis.array.push(item.c_name)    //储存城市名的列表\r\n\t\t\t})\r\n\t\t},\r\n\t\t//拨打电话\r\n\t\tcall:function(phoneNumber){\r\n\t\t  uni.makePhoneCall({\r\n\t\t      phoneNumber, //电话号码  只能写字符串  数字不能生效\r\n\t\t  });\r\n\t\t},\r\n\t\t//页面跳转\r\n\t    go:function(url,data={}){\r\n\t\t\tif(this.isLogin == true){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent:\"请先登录\",\r\n\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.openSetting({});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle:\"加载中\"\r\n\t\t\t})\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\t//传值要先转json不然下个页面收到的就是[object Object]  因为对象转字符串就是 [object Object]\r\n\t\t\t\turl:`${url}?data=${JSON.stringify(data)}`,\r\n\t\t\t})\r\n\t\t},\r\n\t\t//底部呼叫窗显示\r\n\t\txuanze:function(){\r\n\t\t\tthis.isShow = true\r\n\t\t},\r\n\t\t//底部呼叫弹窗隐藏\r\n\t\thidden:function(){\r\n\t\t\tthis.isShow = false\r\n\t\t},\r\n\t\t//隐藏优惠卷弹框\r\n\t\twindowNone:function(){\r\n\t\t\tthis.isNewUser = false\r\n\t\t},\r\n\t\t//获取城市下的入住商家\r\n\t\tgetMerchants:async function(id=1){ //默认是获取上海的商家\r\n\t\t\tlet result = await MyAxios.axios(`https://ygbao.magicxhx.com/api/index/cate_services?city_id=${id}`) \r\n\t\t\t//因为获取到的图片地址不是完整的 所以要拼接 https://ygbao.magicxhx.com \r\n\t\t\t//这个也不是固定的,是变值,看后台让你加什么前缀网址\r\n\t\t\tresult[1].data.map((item,index)=>{\r\n\t\t\t\tresult[1].data[index].icon = `https://ygbao.magicxhx.com${result[1].data[index].icon}` \r\n\t\t\t})\r\n\t\t\tthis.MerchantList = result[1].data\r\n\t\t\tapp.globalData.cityId = id //改变全局cityId\r\n\t\t},\r\n\t\t//用户选择了新的城市 触发的逻辑\r\n\t\tbindPickerChange: function(e) {\r\n\t\t\tif(e.target.value == this.index)return                     //如果本次选择的城市和上次一样就不要拉取数据\r\n\t\t\tthis.index = e.target.value                                //picker组件写的\r\n\t\t\tthis.getMerchants(this.cityIdArr[e.target.value])          //重新获取商户列表\r\n\t\t},\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590716565633\n      var cssReload = require(\"C:/Users/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}